(this.webpackJsonpvirtual_office=this.webpackJsonpvirtual_office||[]).push([[21],{1066:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(93),o=a(9),r=a(112),i=a(97),l=a(104),d=a(13),m=a(33),u=a(11),j=a(484),b=a(494),h=a(495),p=function(){function e(t){var a=t.timeout,n=t.onTimeout,c=t.onExpired;Object(b.a)(this,e),this.timeout=a,this.onTimeout=n;var s=parseInt(localStorage.getItem("_expiredTime"),10);s>0&&s<Date.now()?c():(this.eventHandler=this.updateExpiredTime.bind(this),this.tracker(),this.startInterval())}return Object(h.a)(e,[{key:"startInterval",value:function(){var e=this;this.updateExpiredTime(),this.interval=setInterval((function(){var t=parseInt(localStorage.getItem("_expiredTime"),10);console.log("expiredTime",t),t<Date.now()&&e.onTimeout&&(e.onTimeout(),e.cleanUp())}),1e3)}},{key:"updateExpiredTime",value:function(){var e=this;this.timeoutTracker&&clearTimeout(this.timeoutTracker),this.timeoutTracker=setTimeout((function(){localStorage.setItem("_expiredTime",Date.now()+1e3*e.timeout)}),300)}},{key:"tracker",value:function(){window.addEventListener("mousemove",this.eventHandler),window.addEventListener("scroll",this.eventHandler),window.addEventListener("keydown",this.eventHandler)}},{key:"cleanUp",value:function(){localStorage.removeItem("_expiredTime"),clearInterval(this.interval),window.removeEventListener("mousemove",this.eventHandler),window.removeEventListener("scroll",this.eventHandler),window.removeEventListener("keydown",this.eventHandler)}}]),e}(),f=a(632),v=a(4),x=Object(v.jsx)("div",{className:"pt-3 text-center",children:Object(v.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),O=function(){var e=c.a.useState(!1),t=Object(m.a)(e,2),a=(t[0],t[1]),s=Object(u.g)();return c.a.useEffect((function(){var e=new p({timeout:600,onTimeout:function(){a(!0),sessionStorage.clear(),s.push("/login"),console.log("timed out")},onExpired:function(){a(!0),sessionStorage.clear(),s.push("/login"),console.log("expired")}});return function(){e.cleanUp()}}),[]),Object(v.jsx)("main",{className:"c-main",children:Object(v.jsx)(j.k,{children:Object(v.jsx)(n.Suspense,{fallback:x,children:Object(v.jsx)(u.d,{children:f.a.map((function(e,t){return e.component&&Object(v.jsx)(u.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(v.jsx)(j.q,{children:Object(v.jsx)(e.component,Object(d.a)({},t))})}},t)}))})})})})},g=c.a.memo(O),N=function(){return Object(v.jsxs)(j.r,{fixed:!1,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("a",{href:"http://dma.com.bd:8000",target:"_self",rel:"noopener noreferrer",children:"Virtual Office V1.0.0"}),Object(v.jsx)("span",{className:"ml-1",children:"\xa9 2022 DMA"})]}),Object(v.jsxs)("div",{className:"mfs-auto",children:[Object(v.jsx)("span",{className:"mr-1",children:"Powered by"}),Object(v.jsx)("a",{href:"https://dma.com.bd",target:"_blank",rel:"noopener noreferrer",children:"DMA"})]})]})},w=c.a.memo(N),y=a(489),P=a(122),S=(a(797),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.sidebar.sidebarShow})),a=Object(u.g)();return c.a.useEffect((function(){console.log("sidebar --- ",t)}),[]),Object(v.jsxs)(j.t,{withSubheader:!0,children:[Object(v.jsx)(j.T,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var a=!![!1,"responsive"].includes(t)||"responsive";e(Object(P.a)(a))}}),Object(v.jsx)(j.T,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var a=![!0,"responsive"].includes(t)&&"responsive";e(Object(P.a)(a))}}),Object(v.jsx)(j.u,{className:"d-md-down-none mr-auto"}),Object(v.jsx)(j.u,{className:"px-3",children:Object(v.jsx)(I,{})}),Object(v.jsxs)(j.O,{className:"px-3 justify-content-between",children:[Object(v.jsxs)(j.f,{className:"back-button",onClick:function(){return a.goBack()},children:[Object(v.jsx)(y.a,{name:"cil-arrow-thick-from-right",className:"mr-2"}),"Back"]}),Object(v.jsx)(j.e,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3 custom-router",routes:f.a})]})]})}),I=function(){var e=Object(u.g)(),t=Object(s.c)((function(e){return e.profile.data}));return Object(v.jsxs)(j.m,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(v.jsxs)(j.p,{className:"c-header-nav-link",caret:!1,children:[Object(v.jsx)("div",{className:"c-avatar",children:Object(v.jsx)(j.v,{src:null!=t.profile_pic?o.b+t.profile_pic:"avatars/user-avatar-default.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})}),Object(v.jsx)("span",{className:"ml-2  u-name",children:t.first_name})]}),Object(v.jsxs)(j.o,{className:"pt-0",placement:"bottom-end",children:[Object(v.jsx)(j.n,{header:!0,tag:"div",color:"light",className:"text-center drop-text",children:Object(v.jsx)("strong",{children:"Account"})}),Object(v.jsxs)(j.n,{className:"drop-text",to:"/dashboard/profile",children:[Object(v.jsx)(y.a,{name:"cil-user",className:"mfe-2"}),"Profile"]}),Object(v.jsx)(j.n,{divider:!0}),Object(v.jsxs)(j.n,{onClick:function(){o.a.get("auth/logout/").then((function(t){window.sessionStorage.clear(),e.push("/")})).catch((function(t){sessionStorage.clear(),e.push("/")}))},className:"drop-text",children:[Object(v.jsx)(y.a,{name:"cil-account-logout",className:"mfe-2"}),"Log out"]})]})]})},k=(a(798),a(505)),E=function(){var e=Object(s.b)(),t=Object(u.g)(),a=Object(s.c)((function(e){return e.sidebar.sidebarShow}));c.a.useEffect((function(){}),[]);return Object(v.jsxs)(j.I,{colorScheme:"light",show:a,onShowChange:function(t){return e(Object(P.a)(t))},children:[Object(v.jsxs)(j.J,{className:"d-md-down-none custom-color",to:"/",children:[Object(v.jsx)(j.v,{className:"c-sidebar-brand-full",src:"assets/icons/DMA-LOGO-BIG.svg",height:35}),Object(v.jsx)("h6",{className:"c-sidebar-brand-full name-brand1",children:"Virtual Office"}),Object(v.jsx)(j.v,{className:"c-sidebar-brand-minimized",src:"assets/icons/DMA-logo-small.svg",height:35}),Object(v.jsx)("span",{className:"c-sidebar-brand-minimized name-brand1",children:"VO"})]}),Object(v.jsxs)(j.L,{className:"vo-sidebar",children:[Object(v.jsx)(j.N,{to:"/dashboard",icon:"cil-speedometer",name:"Dashboard",className:"vo-navItem"}),Object(v.jsxs)(j.M,{icon:"cib-ghost",name:"Projects",className:"vo-navItem",children:[Object(k.d)("projects.add_projects")&&Object(v.jsx)(j.N,{to:"/dashboard/Projects/create-new-project",name:"Create New Project",className:"vo-navItem"}),Object(k.d)("projects.add_projects")&&Object(v.jsx)(j.N,{to:"/dashboard/Projects/my-projects",name:"My Projects",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/Projects/assigned-projects",name:"Assigned Projects",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/Projects/completed-projects",name:"Completed Projects",className:"vo-navItem"})]}),Object(v.jsxs)(j.M,{icon:"cil-spreadsheet",name:"WBS",className:"vo-navItem",children:[Object(v.jsx)(j.N,{to:"/dashboard/WBS/create-wbs",name:"Create WBS",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/WBS/board",name:"Board",className:"vo-navItem"})]}),Object(k.d)("evms.view_evms")&&Object(v.jsxs)(j.M,{icon:"cil-chart-line",name:"EVMS",className:"vo-navItem",children:[Object(v.jsx)(j.N,{to:"/dashboard/EVMS/create",name:"Create EVMS",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/EVMS/view",name:"View EVMS",className:"vo-navItem"})]}),Object(v.jsx)(j.N,{to:"/dashboard/employees",name:"Employees",icon:"cil-people",className:"vo-navItem"}),!Object(k.d)("projects.add_projects")&&Object(v.jsx)(j.N,{to:"/dashboard/timecard/generate-timecard",name:"Generate Timecard",icon:"cil-library",className:"vo-navItem"}),Object(k.d)("projects.add_projects")&&Object(v.jsxs)(j.M,{icon:"cil-library",name:"Timecards",className:"vo-navItem",children:[Object(v.jsx)(j.N,{to:"/dashboard/timecard/generate-timecard",name:"Actual Work Done",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/timecard/weekly-timecards",name:"Weekly Timecard",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/timecard/weekly-timecards",name:"Report",className:"vo-navItem"})]}),Object(v.jsx)(j.N,{to:"/dashboard/meetings",icon:"cil-view-module",name:"Meetings",className:"vo-navItem"}),Object(v.jsx)(j.N,{to:"/dashboard/shared-documents",name:"Shared Documents",icon:"cil-folder-open",className:"vo-navItem"}),Object(v.jsx)("hr",{}),Object(v.jsx)(j.N,{to:"/dashboard/profile",name:"Profile",icon:"cil-user",className:"vo-navItem"}),Object(v.jsx)(j.N,{onClick:function(){o.a.get("auth/logout/").then((function(e){sessionStorage.clear(),t.push("/")})).catch((function(e){sessionStorage.clear(),t.push("/")}))},name:"Logout",icon:"cil-account-logout",className:"vo-navItem"})]}),Object(v.jsx)(j.K,{})]})},M=c.a.memo(E),T=(a(799),a(108)),_=a(115),z=a(144);t.default=function(){var e=Object(s.b)();return c.a.useEffect((function(){e(Object(i.d)(sessionStorage.getItem(o.j))),e(Object(l.b)(sessionStorage.getItem(o.j))),e(Object(r.b)(sessionStorage.getItem(o.j))),e(Object(_.b)(sessionStorage.getItem(o.j))),e(Object(z.c)(sessionStorage.getItem(o.j))),e(Object(z.b)(sessionStorage.getItem(o.j))),Object(k.d)("projects.add_projects")&&(console.log("is PM"),e(Object(i.c)(sessionStorage.getItem(o.j))),e(Object(T.b)(sessionStorage.getItem(o.j))))}),[]),Object(v.jsxs)("div",{className:"c-app c-default-layout",children:[Object(v.jsx)(M,{}),Object(v.jsxs)("div",{className:"c-wrapper",children:[Object(v.jsx)(S,{}),Object(v.jsx)("div",{className:"c-body pt-10 custom-color-c-app",children:Object(v.jsx)(g,{})}),Object(v.jsx)(w,{})]})]})}},494:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},495:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",(function(){return c}))},505:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));var n=a(9),c=(a(72),function(e){return null!=sessionStorage.getItem(n.f)&&sessionStorage.getItem(n.f).split(",").includes(e)});function s(e,t){return e.filter((function(e){return console.log("ele",e,"value",t),e!=t}))}function o(e){return void 0!=e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}},632:function(e,t,a){"use strict";var n=a(0),c=a.n(n),s=[{path:"/dashboard",exact:!0,name:"Dashboard",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(15),a.e(22)]).then(a.bind(null,999))}))},{path:"/dashboard/Projects/assigned-projects",exact:!0,name:"Assigned Projects",component:c.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(5),a.e(20)]).then(a.bind(null,816))}))},{path:"/dashboard/Projects/assigned-projects/details/:work_package_number",exact:!0,name:"Assigned Project Details",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(18)]).then(a.bind(null,817))}))},{path:"/dashboard/Projects/my-projects",exact:!0,name:"My Projects",component:c.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(4),a.e(13)]).then(a.bind(null,824))}))},{path:"/dashboard/Projects/my-projects/details/:work_package_number",exact:!0,name:"My Project Details",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(17)]).then(a.bind(null,827))}))},{path:"/dashboard/Meetings",exact:!0,name:"Meetings",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(16)]).then(a.bind(null,1002))}))},{path:"/dashboard/Projects/completed-projects",exact:!0,name:"Completed Projects",component:c.a.lazy((function(){return Promise.all([a.e(4),a.e(5),a.e(25),a.e(24)]).then(a.bind(null,1003))}))},{path:"/dashboard/Projects/completed-projects/details/:work_package_number",exact:!0,name:"Completed Projects details",component:c.a.lazy((function(){return Promise.all([a.e(4),a.e(5),a.e(27)]).then(a.bind(null,830))}))},{path:"/dashboard/Projects/create-new-project",exact:!0,name:"Create New Project",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(19)]).then(a.bind(null,998))}))},{path:"/dashboard/employees",exact:!0,name:"Employees",component:c.a.lazy((function(){return a.e(38).then(a.bind(null,839))}))},{path:"/dashboard/EVMS/create",exact:!0,name:"EVMS Create",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(35)]).then(a.bind(null,840))}))},{path:"/dashboard/EVMS/view",exact:!0,name:"EVMS View",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(7),a.e(34)]).then(a.bind(null,841))}))},{path:"/dashboard/EVMS/details",exact:!0,name:"EVMS Details",component:c.a.lazy((function(){return Promise.all([a.e(7),a.e(36)]).then(a.bind(null,844))}))},{path:"/dashboard/WBS/create-wbs",exact:!0,name:"WBS",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(31)]).then(a.bind(null,846))}))},{path:"/dashboard/WBS/board",exact:!0,name:"Board",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(12)]).then(a.bind(null,848))}))},{path:"/dashboard/timecard/generate-timecard",exact:!0,name:"Generate Timecard",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(3),a.e(4),a.e(23)]).then(a.bind(null,924))}))},{path:"/dashboard/timecard/weekly-timecards",exact:!0,name:"Weekly Timecard",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(4),a.e(33),a.e(30)]).then(a.bind(null,925))}))},{path:"/dashboard/profile",exact:!0,name:"Profile",component:c.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(28)]).then(a.bind(null,1004))}))},{path:"/dashboard/shared-documents",exact:!0,name:"Shared Documents",component:c.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(26)]).then(a.bind(null,1001))}))}];t.a=s},797:function(e,t,a){},798:function(e,t,a){},799:function(e,t,a){}}]);
//# sourceMappingURL=21.b8feb443.chunk.js.map