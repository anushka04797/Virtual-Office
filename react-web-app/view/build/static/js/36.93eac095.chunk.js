(this.webpackJsonpvirtual_office=this.webpackJsonpvirtual_office||[]).push([[36],{1009:function(e,t,n){"use strict";n.r(t);var a=n(33),o=n(493),s=n(498),c=n(0),r=n.n(c),i=n(93),l=n(497),d=n(72),u=n.n(d),m=(n(587),n(102)),f=n(617),b=(n(630),n(510),n(4));t.default=function(){var e,t,n,d,j=Object(c.useState)([]),p=Object(a.a)(j,2),O=(p[0],p[1],[]),h=Object(i.c)((function(e){return e.profile.data})),v=Object(i.c)((function(e){var t=[];return Array.from(e.timecardList.user_weekly_submitted_timecards).forEach((function(e,n){t.push({Weekending:u()(e.week_end).format("ddd, MMMM DD, YYYY"),Name:e.employee.first_name+" "+e.employee.last_name,Total:e.total_hours,RHR:null==e.RHR?"-":e.RHR,SIC:null==e.SIC?"-":e.SIC,HOL:null==e.HOL?"-":e.HOL,WFH:null==e.WFH?"-":e.WFH,OTO:null==e.OTO?"-":e.OTO,PB1:null==e.PB1?"-":e.PB1,Submitted:u()(e.submitted_at).format("ddd, MMMM DD, YYYY")+" at "+u()(e.submitted_at).format("h:mm")})})),O=[].concat(t),t})),x=Object(i.b)();r.a.useEffect((function(){x(Object(m.e)())}),[]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.l,{children:[Object(b.jsxs)(o.K,{children:[Object(b.jsx)(o.k,{children:Object(b.jsx)("h3",{className:"timecards-page-header mb-3",children:"Submitted Timecards"})}),Object(b.jsxs)(o.k,{md:"8",id:"tableRef",className:"d-flex justify-content-end",children:[Object(b.jsx)("h5",{className:"tiny-header--5 mt-3 mr-2",children:"Export "}),Object(b.jsxs)("div",{className:"format-buttons mt-3 mb-3 ",children:[Object(b.jsxs)(o.f,{className:"file-format-download",onClick:function(){!function(){var e=h.first_name+" "+h.last_name,t=new f.default("portrait","pt","A4");t.setFontSize(15);var n={startY:145,head:[["Weekending","Name","Total","RHR","SIC","HOL","PB1","WFH","OTO","Submitted"]],body:O.map((function(e,t){return[e.Weekending,e.Name,e.Total,e.RHR,e.SIC,e.HOL,e.PB1,e.WFH,e.OTO,e.Submitted,console.log("data",e)]}))};t.text(170,50,"Datasoft Manufacturing & Assembly"),t.setFontSize(13),t.text(245,75,"Gulshan Branch"),t.setFontSize(11),t.text(42,105,"Submitted Time Card"),Object(l.d)("projects.add_projects")||t.text(42,125,"Employee Name: "+e),t.text(440,360,"Total "+O.length+" Submitted"),t.autoTable(n),t.save("Timecard of "+e+".pdf")}()},children:[Object(b.jsx)(s.a,{name:"cil-description",className:"mr-2"})," PDF"]}),Object(b.jsxs)(o.f,{className:"file-format-download",onClick:function(){},children:[Object(b.jsx)(s.a,{name:"cil-spreadsheet",className:"mr-2"}),"Excel"]})]})]})]}),Object(b.jsx)(o.K,{className:"mt-4",children:Object(b.jsx)(o.k,{children:Object(b.jsxs)(o.z,{className:"custom-label-5",htmlFor:"assigneeSelect",children:["Company :"," ",null===(e=h.slc_details)||void 0===e||null===(t=e.slc)||void 0===t||null===(n=t.department)||void 0===n||null===(d=n.company)||void 0===d?void 0:d.name]})})}),Object(b.jsx)(o.K,{children:!Object(l.d)("projects.add_projects")&&Object(b.jsx)(o.k,{children:Object(b.jsxs)(o.z,{className:"custom-label-5",htmlFor:"assigneeSelect",children:["Employee Name :"," ",Object(l.b)(h.first_name)+" "+Object(l.b)(h.last_name)]})})}),Object(b.jsx)(o.K,{className:"mt-5",children:Object(b.jsxs)(o.k,{children:[Object(b.jsx)(o.m,{items:v,fields:[{key:"Weekending",_style:{width:"15%"},_classes:"font-weight-bold"},"Name","Total",{key:"RHR",sorter:!1},{key:"SIC",sorter:!1},{key:"HOL",sorter:!1},{key:"PB1",sorter:!1},{key:"WFH",sorter:!1},{key:"OTO",sorter:!1},{key:"Submitted",sorter:!1}],itemsPerPage:10,pagination:!0,striped:!0,bordered:!0,sorter:!0}),Object(b.jsx)("div",{class:"alert alert-info",role:"alert",children:Object(b.jsxs)(o.K,{children:[Object(b.jsx)(o.k,{md:"5"}),Object(b.jsx)(o.k,{md:"3"}),Object(b.jsx)(o.k,{md:"4",children:Object(b.jsxs)("small",{children:["   ","Total ",Object(b.jsxs)("b",{children:["\xa0",v.length,"\xa0"]})," ","Submitted"]})})]})})]})})]})})}},510:function(e,t,n){(function(n){var a,o,s;o=[],a=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,r=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,n){var r=c.URL||c.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?s(i):o(i.href)?a(e,t,n):s(i,i.target="_blank")):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){s(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,c){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,c),n);else if(o(e))a(e,n,c);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){s(r)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(c.HTMLElement)||c.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&i||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var u=c.URL||c.webkitURL,m=u.createObjectURL(e);o?o.location=m:location.href=m,o=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});c.saveAs=i.saveAs=i,e.exports=i},void 0===(s="function"===typeof a?a.apply(t,o):a)||(e.exports=s)}).call(this,n(94))},587:function(e,t,n){}}]);
//# sourceMappingURL=36.93eac095.chunk.js.map