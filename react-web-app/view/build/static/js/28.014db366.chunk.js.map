{"version":3,"sources":["pages/sign-up/signUp.js"],"names":["Yup","shape","first_name","min","max","required","last_name","email","Register","history","useHistory","useState","avatar","setAvatar","image","setImage","formSignUp","useFormik","initialValues","phone","password","confirm_pass","validateOnChange","validateOnBlur","validate","values","errors","onSubmit","formData","FormData","Object","entries","key","value","append","PUBLIC_FORM_API","post","then","res","data","success","status","push","pathname","state","registration","console","log","className","src","for","id","type","onChange","event","file","target","files","URL","createObjectURL","htmlFor","name","handleChange","touched","style","color","disabled","isValid","onClick","handleSubmit","to"],"mappings":"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","file":"static/js/28.014db366.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./signUp.css\";\r\nimport {\r\n  CForm,\r\n  CLabel,\r\n  CButton,\r\n  CInput,\r\n} from \"@coreui/react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { PUBLIC_FORM_API } from \"../../Config\";\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n  first_name: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(50, 'Too Long!')\r\n    .required('Required'),\r\n  last_name: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(50, 'Too Long!')\r\n    .required('Required'),\r\n  email: Yup.string().email('Invalid email').required('Required'),\r\n});\r\n\r\nconst Register = () => {\r\n  let history = useHistory()\r\n  const [avatar,setAvatar]= useState()\r\n  const [image,setImage]=useState()\r\n  const validateSignUpForm = (values) => {\r\n    const errors = {};\r\n    if (!values.first_name) errors.first_name = \"First Name is required!\"\r\n    if (!values.email) errors.email = \"Email is required!\"\r\n    if (values.password !== values.confirm_pass) errors.confirm_pass = \"Confirm your password\"\r\n    return errors;\r\n  }\r\n  const sign_up = () => {\r\n    let formData = new FormData();\r\n    for(const [key,value] of Object.entries(formSignUp.values)){\r\n      if(key != 'confirm_pass'){\r\n        formData.append(key,value)\r\n      }\r\n    }\r\n    PUBLIC_FORM_API.post('auth/register/',formData).then((res)=>{\r\n      if(res.data.success == 'True' && res.status == 200){\r\n        history.push({pathname:'/login',state:{registration:true}})\r\n      }\r\n      console.log(res)\r\n    })\r\n  }\r\n  const reset_form = () => {\r\n    formSignUp.resetForm()\r\n  }\r\n  const onImageChange=(file)=>{\r\n    setAvatar(URL.createObjectURL(file))\r\n    setImage(file)\r\n  }\r\n  const formSignUp = useFormik({\r\n    initialValues: {\r\n      first_name: '',\r\n      last_name: '',\r\n      email: '',\r\n      phone: '',\r\n      password: '',\r\n      confirm_pass: ''\r\n    },\r\n    //validationSchema:{SignupSchema},\r\n    validateOnChange: true,\r\n    validateOnBlur: true,\r\n    validate: validateSignUpForm,\r\n    onSubmit: sign_up\r\n  })\r\n  return (\r\n    <>\r\n      <div className=\"register-page\">\r\n        <div className=\"container\">\r\n          <h3 className=\"page-header\">Register</h3>\r\n          {/**img uplaod div */}\r\n\r\n          <div className=\"seller-pro-pic-holder\">\r\n            <div className=\"seller-profile-pic-div\">\r\n              <img src={avatar?avatar:\"assets/bgs/dummy-user.svg\"} className=\"avatar-img\" />\r\n            </div>\r\n            <label for=\"propic\" className={image?\"pro-img-up-btn mb-0 remove-img\":\"pro-img-up-btn mb-0\"}>\r\n              {/* <!-- propic --> */}\r\n              <input\r\n                id=\"propic\"\r\n                className=\"form-control form-control-md\"\r\n                type=\"file\"\r\n                onChange={(event) => onImageChange(event.target.files[0])}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          {/**submit form */}\r\n          <div className=\"custom-form-holder\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-10 offset-md-1 col-sm-12 offset-sm-0\">\r\n                <CForm className=\"custom-form-sign\">\r\n                  <div className=\"row\">\r\n                    {/**first name */}\r\n                    <div className=\"col-md-6 col-sm-12 col-12 mb-3\">\r\n                      <CLabel htmlFor=\"firstName\" className=\"custom-label-2\">\r\n                        First Name\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"text\"\r\n                        id=\"first_name\"\r\n                        name=\"first_name\"\r\n                        value={formSignUp.values.first_name}\r\n                        onChange={formSignUp.handleChange}\r\n                        aria-describedby=\"fnHelp\"\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                    </div>\r\n                    {/**last name */}\r\n                    <div className=\"col-md-6 col-sm-12 col-12 mb-3\">\r\n                      <CLabel htmlFor=\"lastName\" className=\"custom-label-2\">\r\n                        Last Name\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"text\"\r\n                        id=\"last_name\"\r\n                        name=\"last_name\"\r\n                        value={formSignUp.values.last_name}\r\n                        onChange={formSignUp.handleChange}\r\n                        aria-describedby=\"lnHelp\"\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                    </div>\r\n                    {/**Email */}\r\n                    <div className=\"col-md-6 col-sm-12 col-12 mb-3\">\r\n                      <CLabel htmlFor=\"email\" className=\"custom-label-2\">\r\n                        Email\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        value={formSignUp.values.email}\r\n                        onChange={formSignUp.handleChange}\r\n                        aria-describedby=\"emailHelp\"\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                      {formSignUp.touched.email && formSignUp.errors.email && <p style={{color:'red'}}>{formSignUp.errors.email}</p>}\r\n                    </div>\r\n                    {/**Phone */}\r\n                    <div className=\"col-md-6 col-sm-12 col-12 mb-3\">\r\n                      <CLabel htmlFor=\"phone\" className=\"custom-label-2\">\r\n                        Phone\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"tel\"\r\n                        id=\"phone\"\r\n                        name=\"phone\"\r\n                        value={formSignUp.values.phone}\r\n                        onChange={formSignUp.handleChange}\r\n                        aria-describedby=\"phoneHelp\"\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                    </div>\r\n                    {/**password */}\r\n                    <div className=\"col-md-6 col-sm-12 mb-3\">\r\n                      <CLabel\r\n                        htmlFor=\"exampleInputPassword1\"\r\n                        className=\"custom-label-2\"\r\n                      >\r\n                        Password\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        value={formSignUp.values.password}\r\n                        onChange={formSignUp.handleChange}\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                    </div>\r\n                    {/*confirm password */}\r\n                    <div className=\"col-md-6 col-sm-12 mb-3\">\r\n                      <CLabel\r\n                        htmlFor=\"confirmPass\"\r\n                        className=\"custom-label-2\"\r\n                      >\r\n                        Confirm Password\r\n                      </CLabel>\r\n                      <CInput\r\n                        type=\"password\"\r\n                        id=\"confirm_pass\"\r\n                        name=\"confirm_pass\"\r\n                        value={formSignUp.values.confirm_pass}\r\n                        onChange={formSignUp.handleChange}\r\n                        className=\"custom-formgroup-2\"\r\n                      />\r\n                    </div>\r\n                    {/*submit button */}\r\n                    <div className=\"sign-holder\">\r\n                      <CButton type=\"button\" disabled={!formSignUp.isValid} onClick={formSignUp.handleSubmit} className=\"submit-button-s\">\r\n                        Sign up\r\n                      </CButton>\r\n                    </div>\r\n                    {/**Go to sign in */}\r\n                    <div className=\"mb-4 mt-3\">\r\n                      <h5 className=\"final-footer\"><span className=\"dum-text\">Already have an account?</span><Link className=\"registration-link\" to=\"/\">Sign in</Link></h5>\r\n                    </div>\r\n                  </div>\r\n                </CForm>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Register;\r\n"],"sourceRoot":""}