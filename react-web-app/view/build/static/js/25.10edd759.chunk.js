(this.webpackJsonpvirtual_office=this.webpackJsonpvirtual_office||[]).push([[25],{537:function(e,t,n){"use strict";function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return c}))},626:function(e,t,n){"use strict";var c=n(527),a=n(538),r=n(547),i=n(561),o=n(0),s=n.n(o),l=n(3),u=n(530),d=n(512),j=n(531),b=n(469),f=n(732),h=(n(522),n(546),n(480),n(26),Array.isArray),p=Object.keys,m=Object.prototype.hasOwnProperty;function O(e,t){if(e===t)return!0;if(e&&t&&"object"==Object(i.a)(e)&&"object"==Object(i.a)(t)){var n,c,a,r=h(e),o=h(t);if(r&&o){if((c=e.length)!=t.length)return!1;for(n=c;0!==n--;)if(!O(e[n],t[n]))return!1;return!0}if(r!=o)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var j=p(e);if((c=j.length)!==p(t).length)return!1;for(n=c;0!==n--;)if(!m.call(t,j[n]))return!1;for(n=c;0!==n--;)if(("_owner"!==(a=j[n])||!e.$$typeof)&&!O(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var x=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=Object(a.a)(t,["in","onExited","appear","enter","exit"]);return s.a.createElement(e,n)}},v=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,i=e.in;e.onExited;var o=Object(a.a)(e,["component","duration","in","onExited"]),u={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return s.a.createElement(b.a,{mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:r},(function(e){var n={style:Object(c.j)({},u[e])};return s.a.createElement(t,Object(l.a)({innerProps:n},o))}))},g=function(e){Object(j.a)(n,e);var t=Object(c.i)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).duration=260,e.rafID=void 0,e.state={width:"auto"},e.transition={exiting:{width:0,transition:"width ".concat(e.duration,"ms ease-out")},exited:{width:0}},e.getWidth=function(t){t&&isNaN(e.state.width)&&(e.rafID=window.requestAnimationFrame((function(){var n=t.getBoundingClientRect().width;e.setState({width:n})})))},e.getStyle=function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}},e.getTransition=function(t){return e.transition[t]},e}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.in,r=this.state.width;return s.a.createElement(b.a,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:this.duration},(function(t){var a=Object(c.j)(Object(c.j)({},e.getStyle(r)),e.getTransition(t));return s.a.createElement("div",{ref:e.getWidth,style:a},n)}))}}]),n}(o.Component),E=function(e){return function(t){var n=t.in,c=t.onExited,r=Object(a.a)(t,["in","onExited"]);return s.a.createElement(g,{in:n,onExited:c},s.a.createElement(e,Object(l.a)({cropWithEllipsis:n},r)))}},y=function(e){return function(t){return s.a.createElement(v,Object(l.a)({component:e,duration:t.isMulti?260:1},t))}},N=function(e){return function(t){return s.a.createElement(v,Object(l.a)({component:e},t))}},w=function(e){return function(t){return s.a.createElement(f.a,Object(l.a)({component:e},t))}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.c)({components:e}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,s=t.ValueContainer,l=Object(a.a)(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return Object(c.j)({Input:x(n),MultiValue:E(r),Placeholder:y(i),SingleValue:N(o),ValueContainer:w(s)},l)},k=S(),D=(k.Input,k.MultiValue,k.Placeholder,k.SingleValue,k.ValueContainer,Object(r.a)(S,(function(e,t){try{return O(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}})));t.a=D},732:function(e,t,n){"use strict";var c=n(8),a=n(3),r=n(537),i=n(16),o=n(0),s=n.n(o),l=n(77);function u(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function j(e,t,n){var c=u(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var c,a=Object.create(null),r=[];for(var i in e)i in t?r.length&&(a[i]=r,r=[]):r.push(i);var o={};for(var s in t){if(a[s])for(c=0;c<a[s].length;c++){var l=a[s][c];o[a[s][c]]=n(l)}o[s]=n(s)}for(c=0;c<r.length;c++)o[r[c]]=n(r[c]);return o}(t,c);return Object.keys(a).forEach((function(r){var i=a[r];if(Object(o.isValidElement)(i)){var s=r in t,l=r in c,u=t[r],j=Object(o.isValidElement)(u)&&!u.props.in;!l||s&&!j?l||!s||j?l&&s&&Object(o.isValidElement)(u)&&(a[r]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:u.props.in,exit:d(i,"exit",e),enter:d(i,"enter",e)})):a[r]=Object(o.cloneElement)(i,{in:!1}):a[r]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:d(i,"exit",e),enter:d(i,"enter",e)})}})),a}var b=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,n){var c,a=(c=e.call(this,t,n)||this).handleExited.bind(Object(r.a)(c));return c.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},c}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,c,a=t.children,r=t.handleExited;return{children:t.firstRender?(n=e,c=r,u(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:c.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})}))):j(e,a,r),firstRender:!1}},n.handleExited=function(e,t){var n=u(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=Object(c.a)(e,["component","childFactory"]),r=this.state.contextValue,i=b(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?s.a.createElement(l.a.Provider,{value:r},i):s.a.createElement(l.a.Provider,{value:r},s.a.createElement(t,a,i))},t}(s.a.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};t.a=f},907:function(e,t,n){},908:function(e,t,n){},979:function(e,t,n){"use strict";n.r(t);var c=n(474),a=n(0),r=n.n(a),i=n(478),o=(n(907),n(33)),s=n(9),l=n(496),u=n(90),d=n(131),j=n(4),b=function(){var e=Object(a.useState)(4),t=Object(o.a)(e,2),n=t[0],b=t[1],f=Object(a.useState)(!1),h=Object(o.a)(f,2),p=h[0],m=h[1],O=Object(a.useState)([]),x=Object(o.a)(O,2),v=x[0],g=x[1],E=Object(u.c)((function(e){var t=[];return Array.from(e.projects.data).forEach((function(e,n){t.push({value:e.project.work_package_number,label:e.project.task_delivery_order.title+" > "+e.project.sub_task,data:e})})),t}));return r.a.useEffect((function(){s.a.get("project/all-files/").then((function(e){console.log(e),g(e.data.data)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"project-name",children:"Select Project"}),Object(j.jsx)(c.H,{children:Object(j.jsx)(c.j,{sm:"12",md:"4",lg:"4",children:Object(j.jsx)(l.a,{options:E,onChange:function(e,t){if("select-option"==t.action){var n=[];d.a.getState().projects.data;Array.from(v).forEach((function(t,c){t.project.work_package_number==e.value&&n.push(t)})),g(n)}}})})}),Object(j.jsx)("div",{className:"expand-btn-holder",children:Object(j.jsx)(c.f,{className:"see-all-btn mb-3",onClick:function(){4===n?(m(!0),b(4)):m(!1)},children:p?Object(j.jsx)("span",{children:"Show less"}):Object(j.jsx)("span",{children:"Show all"})})}),Object(j.jsx)(c.H,{children:v.slice(0,n).map((function(e,t){return Object(j.jsx)(c.j,{lg:"3",md:"6",sm:"6",children:Object(j.jsx)(c.g,{className:"doc-cards",children:Object(j.jsxs)(c.h,{className:"doc-file-body",children:[Object(j.jsx)("div",{className:"icon-holder-shared-files",children:Object(j.jsx)(i.a,{name:"cil-file",className:"file-icon-show",size:"2xl"})}),Object(j.jsx)("h5",{className:"file-name mt-2",children:e.fileName}),Object(j.jsxs)("h6",{className:"create-time",children:[Object(j.jsx)("span",{className:"thicc-header",children:"Created:"}),e.date_created]}),Object(j.jsxs)("h6",{className:"uploadedBy",children:[Object(j.jsx)("span",{className:"thicc-header",children:"Uploaded by:"}),e.upload_by.first_name]})]})})},t)}))})]})},f=n(18),h=n(13),p=(n(908),n(626),n(495)),m=n(491),O=n.n(m),x=function(){var e={option:function(e,t){return Object(h.a)(Object(h.a)({},e),{},{fontSize:"14px !important"})}},t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],i=n[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),m=(b[0],b[1],Object(a.useState)([])),x=Object(o.a)(m,2),v=x[0],g=x[1],E=Object(a.useState)([]),y=Object(o.a)(E,2),N=y[0],w=y[1],S=Object(u.c)((function(e){var t=[];return Array.from(e.projects.data).forEach((function(e,n){t.push({value:e.project.id,label:e.project.task_delivery_order.title+" / "+e.project.sub_task,data:e})})),t}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(c.g,{className:"mt-4 upload-docs",children:Object(j.jsx)(c.h,{children:Object(j.jsxs)(c.k,{children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(c.x,{className:"custom-label-5",htmlFor:"prjctSelect",children:"Select Project"}),Object(j.jsx)(l.a,{closeMenuOnSelect:!0,"aria-labelledby":"prjctSelect",id:"prjctSelect",minHeight:"35px",placeholder:"Select from list",isClearable:!0,isMulti:!1,onChange:function(e,t){"select-option"==t.action||"remove-value"==t.action?i(e):"clear"==t.action&&i(null)},classNamePrefix:"custom-forminput-6",value:r,options:S,styles:e})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(c.x,{htmlFor:"attachments",className:"custom-label-5",children:"Upload Documents"}),Object(j.jsxs)(c.x,{className:"custom-file-upload",children:[Object(j.jsx)(c.w,{type:"file",id:"file",className:"form-control form-control-file",onChange:function(e){return t=e.target.files[0],g([].concat(Object(f.a)(v),[t])),void w([].concat(Object(f.a)(N),[URL.createObjectURL(t)]));var t},accept:".xlsx, .xls, .csv, .pdf, image/*, application/gzip, .zip, .tar, .txt, .doc, .docx, .pptx, .ppt"}),Object(j.jsx)("img",{src:"assets/icons/upload-thin.svg",alt:"",className:"upload-icon"})]})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("div",{className:"row",children:N.map((function(e,t){return Object(j.jsx)("div",{className:"col-md-6 col-sm-6 col-lg-4",children:Object(j.jsxs)("div",{className:"file-attached-ongoing rounded-pill",children:[Object(j.jsx)(c.f,{className:"remove-file-ongoing",type:"button",onClick:function(){var e;e=t,console.log(N),w(Object(p.a)(N,N[e])),g(Object(p.a)(v,v[e]))},children:Object(j.jsx)("img",{src:"assets/icons/icons8-close-64-blue.svg",className:"close-icon-size"})}),v[t].name]})},t)}))})}),Object(j.jsx)("div",{className:"mb-3 mt-4",children:Object(j.jsxs)("div",{className:"project-form-button-holders ",children:[Object(j.jsx)(c.f,{className:"profile-form-btn update-profile",type:"button",onClick:function(){var e=new FormData;e.append("project",r.data.project.id),e.append("files",v.length),e.append("upload_by",sessionStorage.getItem(s.j)),Array.from(v).forEach((function(t,n){e.append("file"+(n+1),t)})),s.a.post("project/shared/document/create/",e).then((function(e){i(null),w([]),g([]),O()("Uploaded","Files are uploaded","success")}))},children:"Upload Documents"}),Object(j.jsx)(c.f,{className:"profile-form-btn cancel-update",children:"Cancel"})]})})]})})})})};t.default=function(){Object(u.c)((function(e){var t=[];return Array.from(e.projects.data).forEach((function(e,n){t.push({value:e.project.id,label:e.project.sub_task})})),t}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(c.k,{children:Object(j.jsxs)(c.R,{activeTab:"uploadDocs",children:[Object(j.jsxs)(c.D,{variant:"tabs",className:"tab-style",children:[Object(j.jsx)(c.E,{children:Object(j.jsxs)(c.F,{"data-tab":"uploadDocs",className:"special",children:[Object(j.jsx)(i.a,{name:"cil-arrow-thick-to-top"})," Upload Documents"]})}),Object(j.jsx)(c.E,{children:Object(j.jsxs)(c.F,{"data-tab":"viewDocs",className:"special",children:[Object(j.jsx)(i.a,{name:"cil-library",className:"mr-1"}),"View Shared Documents"]})})]}),Object(j.jsxs)(c.P,{children:[Object(j.jsx)(c.Q,{"data-tab":"uploadDocs",children:Object(j.jsxs)(c.k,{children:[Object(j.jsx)("h3",{className:"profile-page-header",children:"Upload Documents"}),Object(j.jsx)(c.H,{children:Object(j.jsx)("div",{className:"col-lg-8 offset-lg-2",children:Object(j.jsx)(x,{})})})]})}),Object(j.jsx)(c.Q,{"data-tab":"viewDocs",children:Object(j.jsx)(c.k,{children:Object(j.jsx)(c.H,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)(b,{})})})})})]})]})})})}}}]);
//# sourceMappingURL=25.10edd759.chunk.js.map