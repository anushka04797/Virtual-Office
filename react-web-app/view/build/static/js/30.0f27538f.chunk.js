(this.webpackJsonpvirtual_office=this.webpackJsonpvirtual_office||[]).push([[30],{1119:function(e,t,a){},1120:function(e,t,a){},1121:function(e,t,a){},1514:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),r=a(495),n=(a(773),a(1119),a(94)),l=a(113),d=a(8),i=a(11),o=a(4),j=function(){var e=Object(i.g)(),t=Object(n.b)(),a=Object(n.c)((function(e){return e.meetings.data}));return c.a.useEffect((function(){t(Object(l.b)(sessionStorage.getItem(d.j)))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"main-holder-projects",children:[Object(o.jsx)("h3",{className:"projectsHeader",children:"Scheduled Meetings"}),Object(o.jsxs)("div",{className:"card-holder1 ",children:[void 0!=a&&a.slice(0,3).map((function(e,t){return Object(o.jsx)(r.g,{className:"project-card2",children:Object(o.jsxs)(r.h,{children:[""!=e.room_id&&Object(o.jsxs)("h6",{className:"id-no1",children:["room id: #",e.room_id]}),""==e.room_id&&Object(o.jsxs)("h6",{className:"id-no1",children:["meeting id: #",e.id]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Agenda:"})," ",e.agenda]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Location:"})," ",0==e.medium?"Physical":"Virtual"]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Scheduled Date & Time :"})," ",e.start_time]})]})},t)})),void 0==a||""==a?Object(o.jsx)(r.a,{className:"no-value-show-alert",color:"primary",children:"Currently there are no upcoming meetings"}):Object(o.jsx)(o.Fragment,{})]}),void 0!=a&&Object(o.jsx)("div",{className:"button-holder3",children:Object(o.jsx)(r.f,{className:"tiny-buttons1",onClick:function(){return e.push({pathname:"/dashboard/meetings"})},children:"View all"})})]})})},b=(a(1120),a(103),function(){var e=Object(i.g)(),t=Object(n.c)((function(e){return e.evmsList.data}));function a(e,t){return Math.abs(e/t)}return console.log("evms from dashboard",t),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"main-holder-projects",children:[Object(o.jsx)("h3",{className:"projectsHeader",children:"EVMS Summary"}),Object(o.jsxs)("div",{className:"card-holder1",children:[void 0!=t&&Array.from(t).slice(0,3).map((function(e,t){return Object(o.jsx)(r.g,{className:"project-card1",children:Object(o.jsxs)(r.h,{children:[Object(o.jsxs)("h6",{className:"id-no1",children:[e.project.task_delivery_order.title," / ",e.project.sub_task]}),Object(o.jsxs)("h5",{className:"card-details2",children:[Object(o.jsx)("span",{className:"p-header-4",children:"Cost Performance Index (CPI) :"}),Object(o.jsxs)("span",{children:[" ",a(e.earned_value,e.actual_cost)]}),Object(o.jsxs)("small",{className:"ml-1 star-color",children:["*(CPI",">","1, within budget.CPI ","<","1, over budget)"]})]}),Object(o.jsxs)("h5",{className:"card-details2",children:[Object(o.jsx)("span",{className:"p-header-4",children:"Schedule Performance Index (SPI) :"}),Object(o.jsxs)("span",{children:[" ",a(e.earned_value,e.project.planned_value)]}),Object(o.jsxs)("small",{className:"ml-1 star-color",children:["*(SPI ",">","1, within schedule,SPI ","<","1, behind schedule)"]})]})]})},t)})),void 0==t||0==t?Object(o.jsx)(r.a,{className:"no-value-show-alert",color:"primary",children:"Currently there are no projects assigned to you"}):null]}),void 0!=t&&Object(o.jsx)("div",{className:"button-holder3",children:Object(o.jsx)(r.f,{className:"tiny-buttons1",onClick:function(){return e.push({pathname:"/dashboard/EVMS/view"})},children:"View all"})})]})})}),m=(a(1121),function(){var e=Object(i.g)(),t=(Object(n.b)(),Object(n.c)((function(e){return e.projects.data})));return Object(s.useEffect)((function(){console.log("ProjectsList",t)}),[t]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"main-holder-projects",children:[Object(o.jsx)("h3",{className:"projectsHeader",children:"Assigned Projects"}),Object(o.jsxs)("div",{className:"card-holder1",children:[void 0!=t&&Array.from(t).slice(0,3).map((function(t,a){return Object(o.jsx)(r.g,{className:"project-card1",onClick:function(){return e.push({pathname:"dashboard/Projects/assigned-projects/details/"+t.project.work_package_number+"/"})},children:Object(o.jsxs)(r.h,{children:[Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Project Name: "})," ",t.project.sub_task]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Planned Hours: "})," ",t.project.planned_hours]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Remaining Hours: "})," ",t.project.remaining_hours]}),Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Planned Delivery Date : "}),t.project.planned_delivery_date]})]})},a)})),""==t||void 0==t?Object(o.jsx)(r.a,{className:"no-value-show-alert",color:"primary",children:"Currently there are no projects assigned to you"}):null]}),void 0!=t&&Object(o.jsx)("div",{className:"button-holder3",children:Object(o.jsx)(r.f,{className:"tiny-buttons1",onClick:function(){return e.push({pathname:"/dashboard/Projects/assigned-projects"})},children:"View all"})})]})})}),h=a(33),u=a(99),O=a(101),x=a(779),p=function(){var e=Object(i.g)(),t=Object(n.b)(),a=Object(n.c)((function(e){var t=[];return e.wbs.data.forEach((function(e){e.assignee.id==sessionStorage.getItem(d.j)&&t.push(e)})),t}));console.log(a);var l=Object(s.useState)([]),j=Object(h.a)(l,2),b=j[0],m=j[1],u=Object(s.useState)(!1),p=Object(h.a)(u,2),g=p[0],v=p[1],f=Object(s.useState)(null),N=Object(h.a)(f,2),_=N[0],w=N[1];return c.a.useEffect((function(){}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"main-holder-projects",children:[Object(o.jsx)("h3",{className:"projectsHeader",children:"WBS List"}),Object(o.jsxs)("div",{className:"card-holder1",children:[void 0!=a&&a.slice(0,3).map((function(e,t){return Object(o.jsx)(r.g,{className:"project-card1",onClick:function(){return t=e.id,d.a.get("wbs/time-card/list/"+t+"/").then((function(e){console.log("time-card list result",e),m(e.data)})),w(a.find((function(e){return e.id==t}))),void v(!0);var t},children:Object(o.jsxs)(r.h,{children:[Object(o.jsxs)("h5",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"Project: "})," ",e.project.sub_task]}),Object(o.jsxs)("h6",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"WBS Title:"})," ",e.title]}),Object(o.jsxs)("h6",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"WBS Description:"})," ",e.description]}),Object(o.jsxs)("h6",{className:"card-details1",children:[Object(o.jsx)("span",{className:"p-header-3",children:"End Date :"})," ",e.end_date]})]})},t)})),void 0==a||0==a?Object(o.jsx)(r.a,{className:"no-value-show-alert",color:"primary",children:"Currently there are no WBS assigned to you"}):null]}),void 0!=a&&Object(o.jsx)("div",{className:"button-holder3",children:Object(o.jsx)(r.f,{className:"tiny-buttons1",onClick:function(){return e.push({pathname:"/dashboard/WBS/board"})},children:"View all"})})]}),null!=_&&Object(o.jsx)(x.a,{show:g,onClose:function(){v(!1),t(Object(O.b)(sessionStorage.getItem(d.j))),w(null)},toggle:function(){w(null),v(!g)},data:_,timeCardList:b})]})},g=a(506),v=function(){var e=Object(i.h)(),t=(Object(n.b)(),Object(u.b)()),a=t.enqueueSnackbar;t.closeSnackbar;return c.a.useEffect((function(){var t,s;window.scrollTo(0,0),console.log("dashboard mounted",e.state),"login"==(null===(t=e.state)||void 0===t?void 0:t.from)&&a("Welcome ",{variant:"success"}),null!==(s=e.state)&&void 0!==s&&s.message&&(console.log("message",e.state.message),a(e.state.message,{variant:"warning"}))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.l,{children:Object(o.jsxs)(r.K,{children:[Object(o.jsx)("div",{className:"col-lg-5 offset-lg-1",children:Object(o.jsx)(m,{})}),Object(o.jsx)("div",{className:"col-lg-5",children:Object(o.jsx)(p,{})}),Object(o.jsx)("div",{className:"col-lg-5 offset-lg-1",children:Object(o.jsx)(j,{})}),Object(g.f)("evms.view_evms")&&Object(o.jsx)("div",{className:"col-lg-5 ",children:Object(o.jsx)(b,{})})]})})})};t.default=c.a.memo(v)},565:function(e,t){},698:function(e,t,a){"use strict";var s=a(19),c=a(33),r=(a(13),a(0)),n=a(495),l=(a(699),a(559),a(94)),d=(a(8),a(506)),i=(a(511),a(560),a(4));t.a=function(e){var t=Object(r.useState)(e.files),a=Object(c.a)(t,2),o=a[0],j=a[1],b=Object(r.useState)([]),m=Object(c.a)(b,2),h=m[0],u=m[1];Object(l.c)((function(e){var t=[];return Array.from(e.projects.data).forEach((function(e,a){t.push({value:e.project.id,label:e.project.task_delivery_order.title+" / "+e.project.sub_task,data:e})})),t}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(n.g,{className:"mt-4 upload-docs",children:Object(i.jsx)(n.h,{children:Object(i.jsxs)(n.l,{children:[Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(n.z,{htmlFor:"attachments",className:"custom-label-5",children:"Upload Documents"}),Object(i.jsxs)(n.z,{className:"custom-file-upload",children:[Object(i.jsx)(n.y,{type:"file",id:"file",className:"form-control form-control-file",onChange:function(t){return a=t.target.files[0],j([].concat(Object(s.a)(o),[a])),u([].concat(Object(s.a)(h),[URL.createObjectURL(a)])),void e.setFiles([].concat(Object(s.a)(o),[a]));var a},accept:".xlsx, .xls, .csv, .pdf, image/*, application/gzip, .zip, .tar, .txt, .doc, .docx, .pptx, .ppt"}),Object(i.jsx)("img",{src:"assets/icons/upload-thin.svg",alt:"",className:"upload-icon"})]})]}),Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsx)("div",{className:"row",children:h.map((function(e,t){return Object(i.jsx)("div",{className:"col-md-6 col-sm-6 col-lg-4",children:Object(i.jsxs)("div",{className:"file-attached-ongoing rounded-pill",children:[Object(i.jsx)(n.f,{className:"remove-file-ongoing",type:"button",onClick:function(){var e;e=t,console.log(h),u(Object(d.a)(h,h[e])),j(Object(d.a)(o,o[e]))},children:Object(i.jsx)("img",{src:"assets/icons/icons8-close-64-blue.svg",className:"close-icon-size"})}),o[t].name]})},t)}))})})]})})})})}},699:function(e,t,a){},779:function(e,t,a){"use strict";var s=a(33),c=a(495),r=a(0),n=a.n(r),l=a(94),d=a(526),i=a(8),o=a(511),j=a.n(o),b=a(97),m=a(101),h=a(587),u=a(99),O=a(73),x=a.n(O),p=a(506),g=a(698),v=a(4);t.a=function(e){var t,o,O;console.log("props wbs modal: ",e);var f=Object(r.useState)(!0),N=Object(s.a)(f,2),_=(N[0],N[1],Object(r.useState)(!0)),w=Object(s.a)(_,2),k=w[0],y=w[1],C=Object(r.useState)(),S=Object(s.a)(C,2),D=S[0],F=S[1],P=Object(r.useState)(),z=Object(s.a)(P,2),I=z[0],E=z[1],V=Object(r.useState)(),A=Object(s.a)(V,2),B=A[0],K=A[1],L=Object(r.useState)(),H=Object(s.a)(L,2),M=H[0],Y=H[1],W=Object(r.useState)(),T=Object(s.a)(W,2),q=(T[0],T[1],Object(l.b)());n.a.useEffect((function(){i.a.get("project/assignee/list/"+e.data.project.work_package_index+"/").then((function(t){for(var s=0,c=0;c<t.data.data.length;c++)console.log("id",t.data.data[c].assignee.id),e.data.assignee.id==t.data.data[c].assignee.id&&(s=t.data.data[c].estimated_person);for(var r=e.data.project.start_date,n=e.data.project.planned_delivery_date,l=a(73),d=l(n).diff(l(r),"days"),i=8*(d+=1),o=new Date(r),j=0,b=0;b<d;b++)o.setDate(o.getDate()+1),5!=o.getDay()&&6!=o.getDay()||(j+=1);i-=j*=8;var m=0;for(var h in e.timeCardList.data)m+=parseFloat(e.timeCardList.data[h].hours_today);E(Number(m).toFixed(2)),i*=s,F(Number(i).toFixed(2)),K(Number(i-m).toFixed(2))}));var t=e.data.end_date,s=new Date,c=("".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()).split("-"),t.split("-"),x()(e.data.end_date,"YYYY-MM-DD").diff(x()(s,"YYYY-MM-DD"),"days"));Y(c)}),[e]);var U=Object(u.b)(),R=U.enqueueSnackbar,J=(U.closeSnackbar,Object(r.useState)([])),G=Object(s.a)(J,2),Q=G[0],X=G[1],Z=Object(d.a)({initialValues:{project:e.data.project.id,assignee:e.data.assignee.id,title:e.data.title,details:e.data.project.description,status:e.data.status,description:e.data.description,start_date:e.data.start_date,end_date:e.data.end_date,hours_worked:e.data.hours_worked,progress:e.data.progress,comments:e.data.comments,deliverable:e.data.deliverable,date_updated:"",actual_work_done:"",remaining_hours:""},validateOnChange:!0,validateOnBlur:!0,validate:function(e){var t={};return e.title||(t.title="Title is required!"),e.actual_work_done||(t.actual_work_done="Actual work done today is required! (250 charracters)"),t},onSubmit:function(t,a){var s=a.setSubmitting;M>=0?i.a.put("wbs/update/"+e.data.id+"/",Z.values).then((function(t){200==t.status&&"True"==t.data.success&&(q(Object(b.c)(sessionStorage.getItem(i.j))),q(Object(b.d)(sessionStorage.getItem(i.j))),q(Object(m.b)(sessionStorage.getItem(i.j))),j()({title:"Good job!",text:t.data.message,icon:"success"}),e.onClose())})).catch((function(e){console.log(e)})):(s(!1),R("Planned Delivery date is over! ",{variant:"warning"}))}});return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(c.B,{closeOnBackdrop:!1,show:e.show,onClose:e.toggle,size:"xl",children:[Object(v.jsxs)(c.E,{closeButton:!0,children:[e.data.project&&e.data.project.task_delivery_order.title+" / ",e.data.project&&e.data.project.sub_task+" / ",e.data.project&&e.data.project.task_title]}),Object(v.jsx)(c.C,{children:Object(v.jsxs)(c.K,{children:[Object(v.jsx)("div",{className:"col-lg-8 mb-3 border-right",children:Object(v.jsxs)(c.t,{children:[Object(v.jsx)(c.K,{children:Object(v.jsx)("div",{className:"col-lg-12 mb-3",children:Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Project Details :"})," ",e.data.project.description]})})}),Object(v.jsx)(c.K,{children:Object(v.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Title"}),Object(v.jsx)(c.y,{id:"title",name:"title",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.title}),Z.errors.title&&Object(v.jsx)("p",{className:"error",style:{fontSize:"14px !important"},children:Z.errors.title})]})}),Object(v.jsx)(c.K,{children:Object(v.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Descriptions"}),Object(v.jsx)(c.V,{id:"description",name:"description",className:"custom-forminput-5 text-box-height",onChange:Z.handleChange,value:Z.values.description})]})}),Object(v.jsxs)(c.K,{children:[Object(p.f)("projects.add_projects")&&Object(v.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Start date"}),Object(v.jsx)(c.y,{id:"start_date",name:"start_date",type:"date",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.start_date})]}),Object(p.f)("projects.add_projects")&&Object(v.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"End date"}),Object(v.jsx)(c.y,{id:"end_date",name:"end_date",type:"date",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.end_date})]}),!Object(p.f)("projects.add_projects")&&Object(v.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Start date"}),Object(v.jsx)(c.y,{id:"start_date",name:"start_date",type:"date",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.start_date,disabled:!0})]}),!Object(p.f)("projects.add_projects")&&Object(v.jsxs)("div",{className:"col-lg-6 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"End date"}),Object(v.jsx)(c.y,{id:"end_date",name:"end_date",type:"date",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.end_date,disabled:!0})]})]}),Object(v.jsx)(c.K,{children:Object(v.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Actual Work Today"}),Object(v.jsx)(c.y,{id:"actual_work_done",type:"text",name:"actual_work_done",className:"custom-forminpput-5",onChange:function(e){Z.setFieldValue("actual_work_done",e.target.value),null==e.target.value||0==e.target.value.length?y(!0):y(!1)},value:Z.values.actual_work_done}),Z.errors.actual_work_done&&Object(v.jsx)("p",{className:"error",style:{fontSize:"14px !important"},children:Z.errors.actual_work_done})]})}),Object(v.jsx)(c.K,{children:Object(v.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Hours worked"}),Object(v.jsx)(c.y,{id:"hours_worked",name:"hours_worked",type:"number",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.hours_worked,disabled:k,min:"0.00"})]})}),Object(v.jsx)(c.K,{children:Object(v.jsxs)("div",{className:"col-lg-12 mb-3",children:[Object(v.jsx)(c.z,{className:"custom-label-wbs5",children:"Comments"}),Object(v.jsx)(c.V,{id:"comments",name:"comments",className:"custom-forminput-5",onChange:Z.handleChange,value:Z.values.comments})]})}),Object(v.jsx)(c.K,{children:Object(v.jsx)("div",{className:"col-lg-12",children:Object(v.jsx)(g.a,{files:Q,setFiles:function(e){X(e)}})})}),e.data.assignee.id==sessionStorage.getItem(i.j)&&Object(v.jsx)("div",{children:1==(console.log(Z.isSubmitting,Z.isValidating),!(!Z.isSubmitting||Z.isValidating))?Object(v.jsx)(h.a,{}):Object(v.jsxs)("div",{children:[Object(v.jsx)(c.f,{type:"button",onClick:Z.handleSubmit,color:"primary",children:"Update"})," ",Object(v.jsx)(c.f,{color:"secondary",onClick:e.toggle,children:"Cancel"})]})})]})}),Object(v.jsx)(c.K,{className:"col-lg-4 mb-3",children:Object(v.jsxs)("div",{children:[Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("p",{children:["Assignee:",Object(v.jsx)("br",{}),Object(v.jsx)("span",{className:"wbs-reporter-name",children:void 0!=(null===(t=e.data.assignee)||void 0===t?void 0:t.first_name)&&e.data.assignee.first_name+" "+e.data.assignee.last_name})]})}),Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("p",{children:["Created By:",Object(v.jsx)("br",{}),Object(v.jsx)("span",{className:"wbs-reporter-name",children:void 0!=(null===(o=e.data.reporter)||void 0===o?void 0:o.first_name)&&e.data.reporter.first_name+" "+e.data.reporter.last_name})]})}),Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("p",{className:"custom-label-wbs5",children:["Planned Hours :",Object(v.jsx)("br",{}),D]})}),Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("p",{children:["Actual Hours :",Object(v.jsx)("br",{}),Number(I).toFixed(2)]})}),Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("p",{children:["Balance hours:",Object(v.jsx)("br",{}),null==B?Object(v.jsx)(h.a,{}):Number(B).toFixed(2)]})}),Object(v.jsx)(c.k,{md:"12",children:Object(v.jsxs)("div",{className:"task-list",children:[Object(v.jsx)("p",{children:"Actual Worked :"}),Object(v.jsx)("ol",{className:"task-list-show",children:void 0!=(null===(O=e.timeCardList)||void 0===O?void 0:O.data)?Array.from(e.timeCardList.data).map((function(e){return Object(v.jsx)("li",{className:"task-list-show-item",children:e.actual_work_done+" \u27a4 "+Number(e.hours_today).toFixed(2)+" hr(s)"})})):"No task has been done so far."})]})})]})})]})})]})})}}}]);
//# sourceMappingURL=30.0f27538f.chunk.js.map